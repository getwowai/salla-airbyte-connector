# Salla Connector Specification
# Defines the configuration schema for the connector

documentationUrl: https://docs.salla.dev/
connectionSpecification:
  $schema: http://json-schema.org/draft-07/schema#
  title: Salla Source Spec
  type: object
  required:
    - credentials
  properties:
    credentials:
      title: Authentication
      type: object
      description: Choose authentication method
      oneOf:
        - title: OAuth 2.0
          type: object
          required:
            - auth_method
            - access_token
          properties:
            auth_method:
              type: string
              const: oauth2.0
              order: 0
            client_id:
              type: string
              title: Client ID
              description: OAuth Client ID (optional, for token refresh)
              order: 1
            client_secret:
              type: string
              title: Client Secret
              description: OAuth Client Secret (optional, for token refresh)
              airbyte_secret: true
              order: 2
            refresh_token:
              type: string
              title: Refresh Token
              description: OAuth Refresh Token (optional, for token refresh)
              airbyte_secret: true
              order: 3
            access_token:
              type: string
              title: Access Token
              description: OAuth Access Token for API authentication
              airbyte_secret: true
              order: 4
        - title: API Key
          type: object
          required:
            - auth_method
            - api_key
          properties:
            auth_method:
              type: string
              const: api_key
              order: 0
            api_key:
              type: string
              title: API Key
              description: Salla API Key for authentication
              airbyte_secret: true
              order: 1
    merchant_id:
      type: string
      title: Merchant ID
      description: Your Salla Merchant ID (for reference only)
      order: 1
    start_date:
      type: string
      title: Start Date
      description: "The date from which to start syncing data (format YYYY-MM-DD). Only affects incremental streams (customers, orders) on first sync."
      pattern: "^[0-9]{4}-[0-9]{2}-[0-9]{2}$"
      examples:
        - "2024-01-01"
        - "2025-01-01"
      default: "2025-01-01"
      order: 2